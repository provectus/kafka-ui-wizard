import{S as j,i as D,s as U,e as k,I,k as H,t as Y,c as C,a as $,J as w,d as S,m as J,h as W,b as p,g as x,K as d,L as G,j as V,E as g,l as N,o as E,p as q,q as h,N as O,n as F,w as P,x as T,y as b,B as v}from"../chunks/index-71e01c76.js";import{H as X}from"../chunks/Hero-c84bdd20.js";import{c as K}from"../chunks/clustersStore-6d71451f.js";import{d as M}from"../chunks/paths-1ad49849.js";function Z(i){let e,r,s,t,a,o,l,n,_;return{c(){e=k("div"),r=k("button"),s=I("svg"),t=I("path"),a=H(),o=k("pre"),l=Y(i[0]),this.h()},l(c){e=C(c,"DIV",{class:!0});var m=$(e);r=C(m,"BUTTON",{class:!0});var R=$(r);s=w(R,"svg",{class:!0,xmlns:!0,viewBox:!0});var f=$(s);t=w(f,"path",{d:!0}),$(t).forEach(S),f.forEach(S),R.forEach(S),a=J(m),o=C(m,"PRE",{class:!0});var u=$(o);l=W(u,i[0]),u.forEach(S),m.forEach(S),this.h()},h(){p(t,"d","M 16 3 C 14.742188 3 13.847656 3.890625 13.40625 5 L 6 5 L 6 28 L 26 28 L 26 5 L 18.59375 5 C 18.152344 3.890625 17.257813 3 16 3 Z M 16 5 C 16.554688 5 17 5.445313 17 6 L 17 7 L 20 7 L 20 9 L 12 9 L 12 7 L 15 7 L 15 6 C 15 5.445313 15.445313 5 16 5 Z M 8 7 L 10 7 L 10 11 L 22 11 L 22 7 L 24 7 L 24 26 L 8 26 Z"),p(s,"class","w-5 h-5 fill-current"),p(s,"xmlns","http://www.w3.org/2000/svg"),p(s,"viewBox","0 0 32 32"),p(r,"class","btn btn-square btn-sm absolute top-3 right-5"),p(o,"class","px-6 before:mr-0"),p(e,"class","mockup-code text-sm mb-5 max-h-[500px] overflow-y-auto")},m(c,m){x(c,e,m),d(e,r),d(r,s),d(s,t),d(e,a),d(e,o),d(o,l),n||(_=G(r,"click",i[1]),n=!0)},p(c,[m]){m&1&&V(l,c[0])},i:g,o:g,d(c){c&&S(e),n=!1,_()}}}function z(i,e,r){let{code:s}=e;const t=()=>{navigator.clipboard.writeText(s).then(()=>console.log("copied"),a=>console.log("Error",a))};return i.$$set=a=>{"code"in a&&r(0,s=a.code)},[s,t]}class y extends j{constructor(e){super(),D(this,e,z,Z,U,{code:0})}}const B=M(K,i=>{const e={},r=[],s=[];return i.forEach((t,a)=>{const o=`KAFKA_CLUSTERS_${a}`;e[`${o}_NAME`]=t.clusterName,t.readonly&&(e[`${o}_READONLY`]="true"),t.sharedConfluentCloudCluster&&(e[`${o}_DISABLELOGDIRSCOLLECTION`]="true");const l=t.bootstrapServers.map(({host:u,port:L})=>`${u}:${L}`).join(",");e[`${o}_BOOTSTRAPSERVERS`]=l,t.securedWithSSL&&(e[`${o}_PROPERTIES_SECURITY_PROTOCOL`]="SSL");const n=`${o}_PROPERTIES_SSL`,{truststoreLocation:_,truststorePassword:c,keystoreLocation:m,keystorePassword:R}=t.selfSignedCASsl;e[`${n}_TRUSTSTORE_LOCATION`]=_,e[`${n}_TRUSTSTORE_PASSWORD`]=c,e[`${n}_KEYSTORE_LOCATION`]=m,e[`${n}_KEYSTORE_PASSWORD`]=R,t.authMethod!=="None"&&(e[`${o}_PROPERTIES_SECURITY_PROTOCOL`]=t.authMethod);const f=`${o}_PROPERTIES_SASL`;if(e[`${f}_MECHANISM`]=t.saslMechanism,e[`${f}_KERBEROS_SERVICE_NAME`]=t.kerberosServiceName,e[`${f}_JAAS_CONFIG`]=t.saslJaasConfig,t.saslMechanism==="AWS_MSK_IAM"&&(e[`${f}_CLIENT_CALLBACK_HANDLER_CLASS`]="software.amazon.msk.auth.iam.IAMClientCallbackHandler",t.IAMProfile)){const u=`software.amazon.msk.auth.iam.IAMLoginModule required awsProfileName="${t.IAMProfile}"`;e[`${f}_JAAS_CONFIG`]=u}e[`${o}_SCHEMAREGISTRY`]=t.schemaRegistryURL,e[`${o}_SCHEMAREGISTRYAUTH_USERNAME`]=t.schemaRegistryUsername,e[`${o}_SCHEMAREGISTRYAUTH_PASSWORD`]=t.schemaRegistryPassword,t.kafkaConnects.forEach((u,L)=>{const A=`${o}_KAFKACONNECT_${L}`;e[`${A}_NAME`]=u.name,e[`${A}_ADDRESS`]=u.url,e[`${A}_USERNAME`]=u.username,e[`${A}_PASSWORD`]=u.password}),e[`${o}_JMXPORT`]=t.jmxPort,t.jmxSslEnabled&&(e[`${o}_JMXSSL`]="true",s.push(`./jmx/clienttruststore:${t.jmxSsl.truststoreLocation}`),r.push(`-Djavax.net.ssl.trustStore=${t.jmxSsl.truststoreLocation}`),r.push(`-Djavax.net.ssl.trustStorePassword=${t.jmxSsl.truststorePassword}`),s.push(`./jmx/clientkeystore:${t.jmxSsl.keystoreLocation}`),r.push(`-Djavax.net.ssl.keyStore=${t.jmxSsl.keystoreLocation}`),r.push(`-Djavax.net.ssl.keyStorePassword=${t.jmxSsl.keystorePassword}`)),e[`${o}_JMXUSERNAME`]=t.jmxUsername,e[`${o}_JMXPASSWORD`]=t.jmxPassword}),{env:e,javaOpts:r,volumes:s}}),Q=M(B,({env:i,javaOpts:e,volumes:r})=>{let s=`docker run -p 8080:8080 \\
`;return s+=`		-d provectuslabs/kafka-ui:latest \\
`,Object.entries(i).forEach(([t,a])=>{a!==void 0&&(s+=`		-e ${t}=${a} \\
`)}),e.length>0&&(s+=`		-e JAVA_OPTS="\\
`,e.forEach(t=>s+=`			${t} \\
`),s+=`		"\\
`),r.length>0&&r.forEach(t=>s+=`		-v ${t} \\
`),s}),ee=M(B,({env:i,javaOpts:e,volumes:r})=>{let s=`---
version: '2'
services:
  kafka-ui:
    container_name: kafka-ui
    image: provectuslabs/kafka-ui:latest
    ports:
      - 8080:8080
    depends_on:
      - kafka-connect0
    environment:
`;return Object.entries(i).forEach(([t,a])=>{a!==void 0&&(s+=`      ${t}:${a}
`)}),e.length>0&&(s+=`      JAVA_OPTS:>-
`,e.forEach(t=>s+=`        ${t}
`)),r.length>0&&(s+=`    volumes:
`,r.forEach(t=>s+=`      - ${t}
`)),s});function te(i){let e,r,s,t;return e=new y({props:{code:i[1]}}),s=new y({props:{code:i[2]}}),{c(){P(e.$$.fragment),r=H(),P(s.$$.fragment)},l(a){T(e.$$.fragment,a),r=J(a),T(s.$$.fragment,a)},m(a,o){b(e,a,o),x(a,r,o),b(s,a,o),t=!0},p(a,o){const l={};o&2&&(l.code=a[1]),e.$set(l);const n={};o&4&&(n.code=a[2]),s.$set(n)},i(a){t||(h(e.$$.fragment,a),h(s.$$.fragment,a),t=!0)},o(a){E(e.$$.fragment,a),E(s.$$.fragment,a),t=!1},d(a){v(e,a),a&&S(r),v(s,a)}}}function se(i){let e,r;return e=new X({}),{c(){P(e.$$.fragment)},l(s){T(e.$$.fragment,s)},m(s,t){b(e,s,t),r=!0},p:g,i(s){r||(h(e.$$.fragment,s),r=!0)},o(s){E(e.$$.fragment,s),r=!1},d(s){v(e,s)}}}function re(i){let e,r,s,t;const a=[se,te],o=[];function l(n,_){return n[0].length===0?0:1}return e=l(i),r=o[e]=a[e](i),{c(){r.c(),s=N()},l(n){r.l(n),s=N()},m(n,_){o[e].m(n,_),x(n,s,_),t=!0},p(n,[_]){let c=e;e=l(n),e===c?o[e].p(n,_):(F(),E(o[c],1,1,()=>{o[c]=null}),q(),r=o[e],r?r.p(n,_):(r=o[e]=a[e](n),r.c()),h(r,1),r.m(s.parentNode,s))},i(n){t||(h(r),t=!0)},o(n){E(r),t=!1},d(n){o[e].d(n),n&&S(s)}}}function oe(i,e,r){let s,t,a;return O(i,K,o=>r(0,s=o)),O(i,Q,o=>r(1,t=o)),O(i,ee,o=>r(2,a=o)),[s,t,a]}class le extends j{constructor(e){super(),D(this,e,oe,re,U,{})}}export{le as default};
